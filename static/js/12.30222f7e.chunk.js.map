{"version":3,"sources":["components/MovieSeatBooking.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["Seat","row","col","occupied","ticketHandle","useState","book","setBook","className","onClick","MovieSeatBooking","styled","seats","setSeats","tickets","setTickets","type","seat","items","Row","Col","forEach","index","splice","useEffect","Array","fill","map","i","j","Math","floor","random","length","_toConsumableArray","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError"],"mappings":"qKAGMA,EAAO,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,IAAKC,EAAkC,EAAlCA,IAAKC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAChC,EAAwBC,oBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,OACI,qBAEIC,UAAS,eAAUL,EAAW,WAAa,GAAlC,YAAwCG,EAAO,WAAa,IACrEG,QAAS,WACAN,IACDC,EAAaE,EAAO,SAAW,OAAQ,CAAEL,MAAKC,QAC9CK,GAASD,MALZJ,IAsFXQ,EAAmBC,aA1EP,SAAC,GAAmB,IAAjBH,EAAgB,EAAhBA,UACjB,EAA0BH,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KACA,EAA8BR,mBAAS,IAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KAKMX,EAAe,SAACY,EAAMC,GAKxB,GAJa,SAATD,GACAD,EAAW,GAAD,mBAAKD,GAAL,CAAcG,KAGf,WAATD,EAAmB,CACnB,IAAIE,EAAK,YAAOJ,GACLK,EAAkBF,EAAvBhB,IAAemB,EAAQH,EAAbf,IAChBgB,EAAMG,SAAQ,WAAeC,GAAW,IAAvBrB,EAAsB,EAAtBA,IAAKC,EAAiB,EAAjBA,IACdD,IAAQkB,GAAOjB,IAAQkB,GACvBF,EAAMK,OAAOD,EAAO,MAG5BP,EAAWG,KAYnB,OARAM,qBAAU,WACNX,EAASY,MAAM,GAAGC,OAAOC,KAAI,SAAC1B,EAAK2B,GAC/B,OAAOH,MAAM,GAAGC,OAAOC,KAAI,SAACzB,EAAK2B,GAC7B,OAtBkC,IAAnCC,KAAKC,MAAsB,GAAhBD,KAAKE,mBAyBxB,IAGC,sBAAKxB,UAAWA,EAAhB,UACI,qBAAKA,UAAU,kBAAf,SACI,mGAGJ,qBAAIA,UAAU,WAAd,UACI,+BACI,qBAAKA,UAAU,SACf,oDAEJ,+BACI,qBAAKA,UAAU,kBACf,oDAEJ,+BACI,qBAAKA,UAAU,kBACf,6DAIR,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,WAEXI,EAAMe,KAAI,SAAC1B,EAAK2B,GACZ,OAAO,qBAAapB,UAAU,MAAvB,SAECI,EAAMgB,GAAGD,KAAI,SAACzB,EAAK2B,GACf,OAAO,cAAC7B,EAAD,CAAcC,IAAK2B,EAAG1B,IAAK2B,EAAG1B,SAAUD,EAAKE,aAAcA,GAAhDyB,OAHbD,SAU7B,oBAAGpB,UAAU,OAAb,4CACU,+BAAOM,EAAQmB,SADzB,yCAC+C,+BAAwB,IAAjBnB,EAAQmB,SAD9D,kBAOatB,CAAH,q1EAkHPD,a,0FC3MA,SAASwB,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIV,MAAMW,QAAQD,GAAM,OAAO,OAAAE,EAAA,GAAiBF,GDGzC,CAAkBA,IELZ,SAA0BG,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOb,MAAMiB,KAAKJ,GFIvD,CAAgBH,IAAQ,OAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,wIHIwE","file":"static/js/12.30222f7e.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components';\r\n\r\nconst Seat = ({ row, col, occupied, ticketHandle }) => {\r\n    const [book, setBook] = useState(false);\r\n    return (\r\n        <div\r\n            key={col}\r\n            className={`seat ${occupied ? \"occupied\" : \"\"} ${book ? \"selected\" : \"\"}`}\r\n            onClick={() => {\r\n                if (!occupied) {\r\n                    ticketHandle(book ? \"return\" : \"book\", { row, col });\r\n                    setBook(!book);\r\n                }\r\n            }}>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Container = ({ className }) => {\r\n    const [seats, setSeats] = useState([]);\r\n    const [tickets, setTickets] = useState([]);\r\n\r\n    const occupied = () => {\r\n        return Math.floor(Math.random() * 10) === 0;\r\n    }\r\n    const ticketHandle = (type, seat) => {\r\n        if (type === \"book\") {\r\n            setTickets([...tickets, seat]);\r\n        }\r\n\r\n        if (type === \"return\") {\r\n            let items = [...tickets];\r\n            let { row: Row, col: Col } = seat;\r\n            items.forEach(({ row, col }, index) => {\r\n                if (row === Row && col === Col) {\r\n                    items.splice(index, 1);\r\n                }\r\n            });\r\n            setTickets(items);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setSeats(Array(6).fill().map((row, i) => {\r\n            return Array(8).fill().map((col, j) => {\r\n                return occupied();\r\n            })\r\n        }))\r\n    }, []);\r\n\r\n    return (\r\n        <div className={className}>\r\n            <div className=\"movie-container\">\r\n                <label>復仇者聯盟：終局之戰</label>\r\n            </div>\r\n\r\n            <ul className=\"showcase\">\r\n                <li>\r\n                    <div className=\"seat\"></div>\r\n                    <small>可選</small>\r\n                </li>\r\n                <li>\r\n                    <div className=\"seat selected\"></div>\r\n                    <small>已選</small>\r\n                </li>\r\n                <li>\r\n                    <div className=\"seat occupied\"></div>\r\n                    <small>不可選</small>\r\n                </li>\r\n            </ul>\r\n\r\n            <div className=\"container\">\r\n                <div className=\"screen\"></div>\r\n                {\r\n                    seats.map((row, i) => {\r\n                        return <div key={i} className=\"row\">\r\n                            {\r\n                                seats[i].map((col, j) => {\r\n                                    return <Seat key={j} row={i} col={j} occupied={col} ticketHandle={ticketHandle} />\r\n                                })\r\n                            }\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n            <p className=\"text\">\r\n                您一共訂購 <span>{tickets.length}</span> 張票，總共是 <span>{tickets.length * 220}</span> 元\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MovieSeatBooking = styled(Container)`\r\n    & {\r\n        background-color: #242333;\r\n        color: #fff;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        height: calc(100vh - 80px);\r\n        position: relative;\r\n        top: 80px;\r\n        font-family: 'Lato', sans-serif;\r\n        margin: 0;\r\n    }\r\n    \r\n    .movie-container {\r\n        margin: 20px 0;\r\n    }\r\n    \r\n    .movie-container select {\r\n        background-color: #fff;\r\n        border: 0;\r\n        border-radius: 5px;\r\n        font-size: 14px;\r\n        margin-left: 10px;\r\n        padding: 5px 15px 5px 15px;\r\n        -moz-appearance: none;\r\n        -webkit-appearance: none;\r\n        appearance: none;\r\n    }\r\n    \r\n    .container {\r\n        perspective: 1000px;\r\n        margin-bottom: 30px;\r\n    }\r\n    \r\n    .seat {\r\n        background-color: #444451;\r\n        height: 12px;\r\n        width: 15px;\r\n        margin: 3px;\r\n        border-top-left-radius: 10px;\r\n        border-top-right-radius: 10px;\r\n    }\r\n    \r\n    .seat.selected {\r\n        background-color: #6feaf6;\r\n    }\r\n    \r\n    .seat.occupied {\r\n        background-color: #ff0000;\r\n    }\r\n    \r\n    .seat:nth-of-type(2) {\r\n        margin-right: 18px;\r\n    }\r\n    \r\n    .seat:nth-last-of-type(2) {\r\n        margin-left: 18px;\r\n    }\r\n    \r\n    .seat:not(.occupied):hover {\r\n        cursor: pointer;\r\n        transform: scale(1.2);\r\n    }\r\n    \r\n    .showcase .seat:not(.occupied):hover {\r\n        cursor: default;\r\n        transform: scale(1);\r\n    }\r\n    \r\n    .showcase {\r\n        background: rgba(0, 0, 0, 0.1);\r\n        padding: 5px 10px;\r\n        border-radius: 5px;\r\n        color: #777;\r\n        list-style-type: none;\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    \r\n    .showcase li {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin: 0 10px;\r\n    }\r\n    \r\n    .showcase li small {\r\n        margin-left: 2px;\r\n    }\r\n    \r\n    .row {\r\n        display: flex;\r\n    }\r\n    \r\n    .screen {\r\n        background-color: #fff;\r\n        height: 70px;\r\n        width: 100%;\r\n        margin: 15px 0;\r\n        transform: rotateX(-45deg);\r\n        box-shadow: 0 3px 10px rgba(255, 255, 255, 0.7);\r\n    }\r\n    \r\n    p.text {\r\n        margin: 5px 0;\r\n    }\r\n    \r\n    p.text span {\r\n        color: #6feaf6;\r\n    }\r\n`\r\n\r\nexport default MovieSeatBooking;\r\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}